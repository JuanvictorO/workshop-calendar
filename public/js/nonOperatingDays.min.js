function confirmDay(e){e=e.toLocaleString(),$.confirm({title:"Adicionar dia de não funcionamento",content:"Tem certeza que deseja escolher o dia "+e+" como não funcionamento?",buttons:{confirmar:function(){$.ajax({data:{start:e,_token:token},type:"POST",url:baseUrl+"/calendar/addNonOperatingDay",async:!0,success:function(e){!0===e.success?(toastr.success(e.msg),location.reload()):toastr.warning(e.msg)},error:function(){toastr.error("Algo deu errado, tente novamente mais tarde ou contate-nos")},dataType:"json"})},cancelar:function(){}}})}function verifyEventInDay(e,a){if(0==e.length){var t={bool:!1};return t}var n=0,o="";if($.each(e,function(e,t){if(console.log(t),t.startStr==a)return n=1,o=parseInt(t.id),!1}),1==n){t={bool:!0,id:o};return t}t={bool:!1};return t}function ajaxDelete(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({data:"",type:"DELETE",dataType:"JSON",url:baseUrl+"/calendar/deleteNonOperatingDay/"+e,async:!0,success:function(e){!0===e.success?(toastr.success(e.msg),location.reload()):toastr.warning(e.msg)},error:function(){toastr.error("Algo deu errado, tente novamente mais tarde ou contate-nos")}})}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("calendar"),a=new FullCalendar.Calendar(e,{events:baseUrl+"/calendar/getNonOperatingDays",locale:"pt-br",editable:!0,dayMaxEventRows:!0,hiddenDays:[0],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth"},navLinks:!1,selectable:!0,editable:!1,dateClick:function(e){e.jsEvent.preventDefault();var t=a.getEvents(),n=verifyEventInDay(t,e.dateStr);e.dateStr<dataAtual?toastr.warning("Essa data já é passada, escolha uma data futura para não funcionamento."):n.bool?$.confirm({title:"Tem certeza?",content:"Clicando em confirmar você removerá o dia: "+e.dateStr+" da lista de dias de Não Funcionamento!",buttons:{confirmar:function(){console.log(n),ajaxDelete(n.id)},cancelar:function(){}}}):confirmDay(e.dateStr)},eventClick:function(e){alert("okay")}});a.render()});