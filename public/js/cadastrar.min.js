function verifyEventInDay(a,e){if(0==a.length)return!1;var t=0;return $.each(a,function(a,r){if(r.startStr==e)return t=1,!1}),1==t}$("#form-event").submit(function(){var a=$("#cadastrar #start").val(),e=$("#time").val(),t=a+" "+e;$("#datetime").val(t)}),document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("calendar"),e=new FullCalendar.Calendar(a,{events:baseUrl+"/calendar/getNonOperatingDays",locale:"pt-br",editable:!0,dayMaxEventRows:!0,hiddenDays:[0],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth"},navLinks:!1,selectable:!1,dateClick:function(a){var t=e.getEvents(),r=verifyEventInDay(t,a.dateStr);if(a.dateStr<dataAtual)toastr.warning("Você não pode marcar a consulta nesse dia!");else if(r)toastr.warning("Nosso estabelecimento não funcionará esse dia!");else{var n=a.dateStr;$.ajax({data:"",type:"GET",dataType:"JSON",url:baseUrl+"/calendar/getEventsInDate/"+n,async:!0,success:function({success:e,json:t}){!0===e?($("#cadastrar #time").empty(),$("#cadastrar #time").append(t),$("#cadastrar #start").val(a.dateStr.toLocaleString()),$("#cadastrar").modal("show")):($(a.dayEl).addClass("disabled"),$(a.dayEl).css("background-color","rgb(255, 159, 137)"),toastr.warning(t))},error:function(){toastr.error("Algo deu errado, tente novamente mais tarde ou contate-nos")}})}}});e.render()});